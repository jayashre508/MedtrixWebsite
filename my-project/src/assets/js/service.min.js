function ServiceBase(){this.XmlHttp=new XMLHttpRequest}function ServiceException(a,b){this.errorCode=a,this.errorMessage=b}ServiceBase.prototype.ExecuteService=function(a,b){try{if(a.service=this.service,this.XmlHttp.open("POST",this.Url,b),this.XmlHttp.send(JSON.stringify(a)),!b){if(200!=this.XmlHttp.status)return void console.log("Network error. Please check your internet connection");var c=JSON.parse(this.XmlHttp.responseText);if(c.iserror){if(1e3!=c.code)throw new ServiceException(c.code,c.message);console.log("Session Expired")}return JSON.parse(this.XmlHttp.responseText)}var d=this,f=(a.callback,window.setInterval(function(a){if(4==d.XmlHttp.readyState){if(window.clearInterval(f),200!=d.XmlHttp.status)return void console.log("Network error. Please check your internet connection");var b=JSON.parse(d.XmlHttp.responseText);if(b.iserror){if(1e3!=b.code)throw console.log(b.ErrorMessage),new ServiceException(b.ErrorCode,b.ErrorMessage);console.log("Session Expired !")}var c=b.result;null!=a&&""!=a.func&&window[a.func](c,a.data)}},1e3,a.callback))}catch(g){return 19==g.code?!1:!0}},window.onError=function(){};